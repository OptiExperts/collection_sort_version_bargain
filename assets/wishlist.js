var LOCAL_STORAGE_WISHLIST_KEY="grass-wishlist",LOCAL_STORAGE_DELIMITER=",",BUTTON_ACTIVE_CLASS="wishlist-active",selectors={grid:"[grid-wishlist]"};jQuery(window).on("load",function(){var t=$(".add-to-wishlist");t.length&&setupButtons(t),$(document).on("click",".add-to-wishlist",function(t){t.preventDefault();var s=$(this),i=s.data("product-handle")||!1;updateWishlist(i),setButtonStatus(s,i);document.dispatchEvent(new CustomEvent('wishlist-update'));})});var setupButtons=function(t){t.each(function(){var t=$(this),s=t.data("product-handle")||!1;if(!s)return console.error("[Wishlist] Missing `data-product-handle` attribute. Failed to update the wishlist.");setButtonStatus(t,s)})},setButtonStatus=function(t,s){var i;wishlistContains(s)?(t.addClass(BUTTON_ACTIVE_CLASS),t.find(".fa").addClass("fa-heart").removeClass("fa-heart-o"),(i=t.data("added-to-wishlist"))&&(t.find(".wishlist-text").remove(),t.append("<span class='wishlist-text'>"+i+"</span>"))):(t.removeClass(BUTTON_ACTIVE_CLASS),t.find(".fa").removeClass("fa-heart").addClass("fa-heart-o"),(i=t.data("add-to-wishlist"))&&(t.find(".wishlist-text").remove(),t.append("<span class='wishlist-text'>"+i+"</span>")))},getWishlist=function(){var t=localStorage.getItem(LOCAL_STORAGE_WISHLIST_KEY)||!1;return t?t.split(LOCAL_STORAGE_DELIMITER):[]},setWishlist=function(t){var s=t.join(LOCAL_STORAGE_DELIMITER);return t.length?localStorage.setItem(LOCAL_STORAGE_WISHLIST_KEY,s):localStorage.removeItem(LOCAL_STORAGE_WISHLIST_KEY),s},updateWishlist=function(t){var s=getWishlist(),i=s.indexOf(t);return-1===i?s.push(t):s.splice(i,1),setWishlist(s)},wishlistContains=function(t){return-1!==getWishlist().indexOf(t)},resetWishlist=function(){return setWishlist([])};
let wishlistCountElement = document.getElementById('WishlistCount');
wishlistCountElement.innerHTML = (localStorage.getItem(LOCAL_STORAGE_WISHLIST_KEY) || '').split(',').filter(Boolean).length;

document.addEventListener('wishlist-update', () => {
  wishlistCountElement.innerHTML = (localStorage.getItem(LOCAL_STORAGE_WISHLIST_KEY) || '').split(',').filter(Boolean).length;

});